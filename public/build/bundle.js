var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function r(){return Object.create(null)}function s(t){t.forEach(o)}function i(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e){return e&&i(e.destroy)?e.destroy:t}const a="undefined"!=typeof window;let u=a?()=>window.performance.now():()=>Date.now(),f=a?t=>requestAnimationFrame(t):t;const d=new Set;function p(t){d.forEach((e=>{e.c(t)||(d.delete(e),e.f())})),0!==d.size&&f(p)}function h(t,e){t.appendChild(e)}function m(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function g(t){const e=$("style");return function(t,e){h(t.head||t,e),e.sheet}(m(t),e),e.sheet}function y(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode&&t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function x(t){return document.createTextNode(t)}function _(){return x(" ")}function w(){return x("")}function v(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function E(t){return function(e){return e.preventDefault(),t.call(this,e)}}function k(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function C(t,e){e=""+e,t.data!==e&&(t.data=e)}function S(t,e){t.value=null==e?"":e}function j(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,o,e),r}function O(t,e){return new t(e)}const N=new Map;let A,L=0;function P(t,e,n,o,r,s,i,c=0){const l=16.666/o;let a="{\n";for(let t=0;t<=1;t+=l){const o=e+(n-e)*s(t);a+=100*t+`%{${i(o,1-o)}}\n`}const u=a+`100% {${i(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${c}`,d=m(t),{stylesheet:p,rules:h}=N.get(d)||function(t,e){const n={stylesheet:g(e),rules:{}};return N.set(t,n),n}(d,t);h[f]||(h[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const y=t.style.animation||"";return t.style.animation=`${y?`${y}, `:""}${f} ${o}ms linear ${r}ms 1 both`,L+=1,f}function D(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),L-=r,L||f((()=>{L||(N.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&b(e)})),N.clear())})))}function R(t){A=t}function q(){if(!A)throw new Error("Function called outside component initialization");return A}function T(t){q().$$.on_mount.push(t)}function F(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const X=[],Y=[];let z=[];const I=[],M=Promise.resolve();let G=!1;function H(){G||(G=!0,M.then(Q))}function J(){return H(),M}function W(t){z.push(t)}const B=new Set;let U,K=0;function Q(){if(0!==K)return;const t=A;do{try{for(;K<X.length;){const t=X[K];K++,R(t),V(t.$$)}}catch(t){throw X.length=0,K=0,t}for(R(null),X.length=0,K=0;Y.length;)Y.pop()();for(let t=0;t<z.length;t+=1){const e=z[t];B.has(e)||(B.add(e),e())}z.length=0}while(X.length);for(;I.length;)I.pop()();G=!1,B.clear(),R(t)}function V(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}function Z(t,e,n){t.dispatchEvent(j(`${e?"intro":"outro"}${n}`))}const tt=new Set;let et;function nt(){et={r:0,c:[],p:et}}function ot(){et.r||s(et.c),et=et.p}function rt(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function st(t,e,n,o){if(t&&t.o){if(tt.has(t))return;tt.add(t),et.c.push((()=>{tt.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}const it={duration:0};function ct(n,o,r,c){const l={direction:"both"};let a=o(n,r,l),h=c?0:1,m=null,g=null,y=null;function b(){y&&D(n,y)}function $(t,e){const n=t.b-h;return e*=Math.abs(n),{a:h,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function x(o){const{delay:r=0,duration:i=300,easing:c=e,tick:l=t,css:x}=a||it,_={start:u()+r,b:o};o||(_.group=et,et.r+=1),m||g?g=_:(x&&(b(),y=P(n,h,o,i,r,c,x)),o&&l(0,1),m=$(_,i),W((()=>Z(n,o,"start"))),function(t){let e;0===d.size&&f(p),new Promise((n=>{d.add(e={c:t,f:n})}))}((t=>{if(g&&t>g.start&&(m=$(g,i),g=null,Z(n,m.b,"start"),x&&(b(),y=P(n,h,m.b,m.duration,0,c,a.css))),m)if(t>=m.end)l(h=m.b,1-h),Z(n,m.b,"end"),g||(m.b?b():--m.group.r||s(m.group.c)),m=null;else if(t>=m.start){const e=t-m.start;h=m.a+m.d*c(e/m.duration),l(h,1-h)}return!(!m&&!g)})))}return{run(t){i(a)?(U||(U=Promise.resolve(),U.then((()=>{U=null}))),U).then((()=>{a=a(l),x(t)})):x(t)},end(){b(),m=g=null}}}function lt(t,e){const n={},o={},r={$$scope:1};let s=t.length;for(;s--;){const i=t[s],c=e[s];if(c){for(const t in i)t in c||(o[t]=1);for(const t in c)r[t]||(n[t]=c[t],r[t]=1);t[s]=c}else for(const t in i)r[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function at(t){return"object"==typeof t&&null!==t?t:{}}function ut(t){t&&t.c()}function ft(t,e,n,r){const{fragment:c,after_update:l}=t.$$;c&&c.m(e,n),r||W((()=>{const e=t.$$.on_mount.map(o).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...e):s(e),t.$$.on_mount=[]})),l.forEach(W)}function dt(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];z.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),z=e}(n.after_update),s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function pt(e,n,o,i,c,l,a,u=[-1]){const f=A;R(e);const d=e.$$={fragment:null,ctx:[],props:l,update:t,not_equal:c,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||f.$$.root};a&&a(d.root);let p=!1;if(d.ctx=o?o(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),p&&function(t,e){-1===t.$$.dirty[0]&&(X.push(t),H(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],d.update(),p=!0,s(d.before_update),d.fragment=!!i&&i(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(b)}else d.fragment&&d.fragment.c();n.intro&&rt(e.$$.fragment),ft(e,n.target,n.anchor,n.customElement),Q()}R(f)}class ht{$destroy(){dt(this,1),this.$destroy=t}$on(e,n){if(!i(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const mt=[];function gt(t,e){return{subscribe:yt(t,e).subscribe}}function yt(e,n=t){let o;const r=new Set;function s(t){if(c(e,t)&&(e=t,o)){const t=!mt.length;for(const t of r)t[1](),mt.push(t,e);if(t){for(let t=0;t<mt.length;t+=2)mt[t][0](mt[t+1]);mt.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,c=t){const l=[i,c];return r.add(l),1===r.size&&(o=n(s)||t),i(e),()=>{r.delete(l),0===r.size&&o&&(o(),o=null)}}}}function bt(e,n,o){const r=!Array.isArray(e),c=r?[e]:e,l=n.length<2;return gt(o,(e=>{let o=!1;const a=[];let u=0,f=t;const d=()=>{if(u)return;f();const o=n(r?a[0]:a,e);l?e(o):f=i(o)?o:t},p=c.map(((e,n)=>function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(e,(t=>{a[n]=t,u&=~(1<<n),o&&d()}),(()=>{u|=1<<n}))));return o=!0,d(),function(){s(p),f(),o=!1}}))}function $t(t){let e,o,r;const s=[t[2]];var i=t[0];function c(t){let e={};for(let t=0;t<s.length;t+=1)e=n(e,s[t]);return{props:e}}return i&&(e=O(i,c()),e.$on("routeEvent",t[7])),{c(){e&&ut(e.$$.fragment),o=w()},m(t,n){e&&ft(e,t,n),y(t,o,n),r=!0},p(t,n){const r=4&n?lt(s,[at(t[2])]):{};if(1&n&&i!==(i=t[0])){if(e){nt();const t=e;st(t.$$.fragment,1,0,(()=>{dt(t,1)})),ot()}i?(e=O(i,c()),e.$on("routeEvent",t[7]),ut(e.$$.fragment),rt(e.$$.fragment,1),ft(e,o.parentNode,o)):e=null}else i&&e.$set(r)},i(t){r||(e&&rt(e.$$.fragment,t),r=!0)},o(t){e&&st(e.$$.fragment,t),r=!1},d(t){t&&b(o),e&&dt(e,t)}}}function xt(t){let e,o,r;const s=[{params:t[1]},t[2]];var i=t[0];function c(t){let e={};for(let t=0;t<s.length;t+=1)e=n(e,s[t]);return{props:e}}return i&&(e=O(i,c()),e.$on("routeEvent",t[6])),{c(){e&&ut(e.$$.fragment),o=w()},m(t,n){e&&ft(e,t,n),y(t,o,n),r=!0},p(t,n){const r=6&n?lt(s,[2&n&&{params:t[1]},4&n&&at(t[2])]):{};if(1&n&&i!==(i=t[0])){if(e){nt();const t=e;st(t.$$.fragment,1,0,(()=>{dt(t,1)})),ot()}i?(e=O(i,c()),e.$on("routeEvent",t[6]),ut(e.$$.fragment),rt(e.$$.fragment,1),ft(e,o.parentNode,o)):e=null}else i&&e.$set(r)},i(t){r||(e&&rt(e.$$.fragment,t),r=!0)},o(t){e&&st(e.$$.fragment,t),r=!1},d(t){t&&b(o),e&&dt(e,t)}}}function _t(t){let e,n,o,r;const s=[xt,$t],i=[];function c(t,e){return t[1]?0:1}return e=c(t),n=i[e]=s[e](t),{c(){n.c(),o=w()},m(t,n){i[e].m(t,n),y(t,o,n),r=!0},p(t,[r]){let l=e;e=c(t),e===l?i[e].p(t,r):(nt(),st(i[l],1,1,(()=>{i[l]=null})),ot(),n=i[e],n?n.p(t,r):(n=i[e]=s[e](t),n.c()),rt(n,1),n.m(o.parentNode,o))},i(t){r||(rt(n),r=!0)},o(t){st(n),r=!1},d(t){i[e].d(t),t&&b(o)}}}function wt(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let o="";return n>-1&&(o=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:o}}const vt=gt(null,(function(t){t(wt());const e=()=>{t(wt())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));bt(vt,(t=>t.location)),bt(vt,(t=>t.querystring));const Et=yt(void 0);async function kt(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");await J(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=("#"==t.charAt(0)?"":"#")+t}function Ct(t,e){if(e=jt(e),!t||!t.tagName||"a"!=t.tagName.toLowerCase())throw Error('Action "link" can only be used with <a> tags');return St(t,e),{update(e){e=jt(e),St(t,e)}}}function St(t,e){let n=e.href||t.getAttribute("href");if(n&&"/"==n.charAt(0))n="#"+n;else if(!n||n.length<2||"#/"!=n.slice(0,2))throw Error('Invalid value for "href" attribute: '+n);t.setAttribute("href",n),t.addEventListener("click",(t=>{t.preventDefault(),e.disabled||function(t){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=t}(t.currentTarget.getAttribute("href"))}))}function jt(t){return t&&"string"==typeof t?{href:t}:t||{}}function Ot(t,e,n){let{routes:o={}}=e,{prefix:r=""}=e,{restoreScrollState:s=!1}=e;class i{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:o}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,o,r,s,i=[],c="",l=t.split("/");for(l[0]||l.shift();r=l.shift();)"*"===(n=r[0])?(i.push("wild"),c+="/(.*)"):":"===n?(o=r.indexOf("?",1),s=r.indexOf(".",1),i.push(r.substring(1,~o?o:~s?s:r.length)),c+=~o&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(c+=(~o?"?":"")+"\\"+r.substring(s))):c+="/"+r;return{keys:i,pattern:new RegExp("^"+c+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=o}match(t){if(r)if("string"==typeof r){if(!t.startsWith(r))return null;t=t.substr(r.length)||"/"}else if(r instanceof RegExp){const e=t.match(r);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let o=0;for(;o<this._keys.length;){try{n[this._keys[o]]=decodeURIComponent(e[o+1]||"")||null}catch(t){n[this._keys[o]]=null}o++}return n}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const c=[];o instanceof Map?o.forEach(((t,e)=>{c.push(new i(e,t))})):Object.keys(o).forEach((t=>{c.push(new i(t,o[t]))}));let l=null,a=null,u={};const f=function(){const t=q();return(e,n,{cancelable:o=!1}={})=>{const r=t.$$.callbacks[e];if(r){const s=j(e,n,{cancelable:o});return r.slice().forEach((e=>{e.call(t,s)})),!s.defaultPrevented}return!0}}();async function d(t,e){await J(),f(t,e)}let p=null,h=null;var m;s&&(h=t=>{p=t.state&&(t.state.__svelte_spa_router_scrollY||t.state.__svelte_spa_router_scrollX)?t.state:null},window.addEventListener("popstate",h),m=()=>{var t;(t=p)?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)},q().$$.after_update.push(m));let g=null,y=null;const b=vt.subscribe((async t=>{g=t;let e=0;for(;e<c.length;){const o=c[e].match(t.location);if(!o){e++;continue}const r={route:c[e].path,location:t.location,querystring:t.querystring,userData:c[e].userData,params:o&&"object"==typeof o&&Object.keys(o).length?o:null};if(!await c[e].checkConditions(r))return n(0,l=null),y=null,void d("conditionsFailed",r);d("routeLoading",Object.assign({},r));const s=c[e].component;if(y!=s){s.loading?(n(0,l=s.loading),y=s,n(1,a=s.loadingParams),n(2,u={}),d("routeLoaded",Object.assign({},r,{component:l,name:l.name,params:a}))):(n(0,l=null),y=null);const e=await s();if(t!=g)return;n(0,l=e&&e.default||e),y=s}return o&&"object"==typeof o&&Object.keys(o).length?n(1,a=o):n(1,a=null),n(2,u=c[e].props),void d("routeLoaded",Object.assign({},r,{component:l,name:l.name,params:a})).then((()=>{Et.set(a)}))}n(0,l=null),y=null,Et.set(void 0)}));return function(t){q().$$.on_destroy.push(t)}((()=>{b(),h&&window.removeEventListener("popstate",h)})),t.$$set=t=>{"routes"in t&&n(3,o=t.routes),"prefix"in t&&n(4,r=t.prefix),"restoreScrollState"in t&&n(5,s=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=s?"manual":"auto")},[l,a,u,o,r,s,function(e){F.call(this,t,e)},function(e){F.call(this,t,e)}]}class Nt extends ht{constructor(t){super(),pt(this,t,Ot,_t,c,{routes:3,prefix:4,restoreScrollState:5})}}function At(t,{delay:n=0,duration:o=400,easing:r=e}={}){const s=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:r,css:t=>"opacity: "+t*s}}function Lt(t){let e,n,o,r,i,c,l,a,u,f,d,p,m,g,w,S,j,O,N,A,L,P,D,R,q,T,F,X,Y,z,I,M,G,H,J=t[0].name+"",B=t[0].type+"",U=t[0].class+"";return M=function(t){let e;return{p(...n){e=n,e.forEach((e=>t.push(e)))},r(){e.forEach((e=>t.splice(t.indexOf(e),1)))}}}(t[4][0]),{c(){e=$("div"),n=$("h1"),n.textContent="Handle DNS Request",o=_(),r=$("p"),i=$("strong"),i.textContent="Name:",c=_(),l=x(J),a=_(),u=$("p"),f=$("strong"),f.textContent="Type:",d=_(),p=x(B),m=_(),g=$("p"),w=$("strong"),w.textContent="Class:",S=_(),j=x(U),O=_(),N=$("form"),A=$("fieldset"),L=$("legend"),L.textContent="Select an action:",P=_(),D=$("div"),R=$("label"),q=$("input"),T=_(),F=$("span"),F.textContent="Correct",X=_(),Y=$("button"),Y.textContent="Submit",k(n,"class","text-3xl font-bold mb-4 text-center"),k(L,"class","block text-gray-700 mb-2"),k(q,"type","radio"),k(q,"name","action"),q.__value="correct",q.value=q.__value,q.required=!0,k(q,"class","form-radio h-4 w-4 text-indigo-600"),k(F,"class","ml-2"),k(R,"class","flex items-center"),k(D,"class","space-y-2"),k(Y,"type","submit"),k(Y,"class","mt-4 bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700"),k(N,"class","mt-4"),M.p(q)},m(s,b){y(s,e,b),h(e,n),h(e,o),h(e,r),h(r,i),h(r,c),h(r,l),h(e,a),h(e,u),h(u,f),h(u,d),h(u,p),h(e,m),h(e,g),h(g,w),h(g,S),h(g,j),h(e,O),h(e,N),h(N,A),h(A,L),h(A,P),h(A,D),h(D,R),h(R,q),q.checked=q.__value===t[1],h(R,T),h(R,F),h(N,X),h(N,Y),I=!0,G||(H=[v(q,"change",t[3]),v(N,"submit",E(t[2]))],G=!0)},p(t,e){(!I||1&e)&&J!==(J=t[0].name+"")&&C(l,J),(!I||1&e)&&B!==(B=t[0].type+"")&&C(p,B),(!I||1&e)&&U!==(U=t[0].class+"")&&C(j,U),2&e&&(q.checked=q.__value===t[1])},i(t){I||(W((()=>{I&&(z||(z=ct(e,At,{},!0)),z.run(1))})),I=!0)},o(t){z||(z=ct(e,At,{},!1)),z.run(0),I=!1},d(t){t&&b(e),t&&z&&z.end(),M.r(),G=!1,s(H)}}}function Pt(t){let e,n,o=t[0]&&Lt(t);return{c(){e=$("div"),o&&o.c(),k(e,"class","max-w-2xl mx-auto p-6")},m(t,r){y(t,e,r),o&&o.m(e,null),n=!0},p(t,[n]){t[0]?o?(o.p(t,n),1&n&&rt(o,1)):(o=Lt(t),o.c(),rt(o,1),o.m(e,null)):o&&(nt(),st(o,1,1,(()=>{o=null})),ot())},i(t){n||(rt(o),n=!0)},o(t){st(o),n=!1},d(t){t&&b(e),o&&o.d()}}}function Dt(t,e,n){let o=null,r="";async function s(){const t=await fetch("/api/play");t.ok?n(0,o=await t.json()):401===t.status?kt("/register"):alert("Failed to get DNS request.")}T((()=>{s()}));return[o,r,async function(){await fetch("/api/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:r,request_id:o.request_id})}),n(1,r=""),s()},function(){r=this.__value,n(1,r)},[[]]]}class Rt extends ht{constructor(t){super(),pt(this,t,Dt,Pt,c,{})}}function qt(t,e,n){const o=t.slice();return o[2]=e[n],o}function Tt(t){let e,n,o,r,s,i,c,l,a,u,f,d,p,m=t[2].nickname+"",g=t[2].pure_points+"",w=t[2].evil_points+"",v=t[2].net_alignment+"";return{c(){e=$("tr"),n=$("td"),o=x(m),r=_(),s=$("td"),i=x(g),c=_(),l=$("td"),a=x(w),u=_(),f=$("td"),d=x(v),p=_(),k(n,"class","py-3 px-4"),k(s,"class","py-3 px-4"),k(l,"class","py-3 px-4"),k(f,"class","py-3 px-4"),k(e,"class","border-b")},m(t,m){y(t,e,m),h(e,n),h(n,o),h(e,r),h(e,s),h(s,i),h(e,c),h(e,l),h(l,a),h(e,u),h(e,f),h(f,d),h(e,p)},p(t,e){1&e&&m!==(m=t[2].nickname+"")&&C(o,m),1&e&&g!==(g=t[2].pure_points+"")&&C(i,g),1&e&&w!==(w=t[2].evil_points+"")&&C(a,w),1&e&&v!==(v=t[2].net_alignment+"")&&C(d,v)},d(t){t&&b(e)}}}function Ft(e){let n,o,r,s,i,c,l,a=e[0],u=[];for(let t=0;t<a.length;t+=1)u[t]=Tt(qt(e,a,t));return{c(){n=$("div"),o=$("h1"),o.textContent="Leaderboard",r=_(),s=$("table"),i=$("thead"),i.innerHTML='<tr><th class="py-3 px-4 text-left">Player</th> \n                <th class="py-3 px-4 text-left">Pure Points</th> \n                <th class="py-3 px-4 text-left">Evil Points</th> \n                <th class="py-3 px-4 text-left">Net Alignment</th></tr>',c=_(),l=$("tbody");for(let t=0;t<u.length;t+=1)u[t].c();k(o,"class","text-3xl font-bold mb-6 text-center"),k(i,"class","bg-gray-800 text-white"),k(l,"class","text-gray-700"),k(s,"class","min-w-full bg-white rounded-lg shadow overflow-hidden"),k(n,"class","max-w-4xl mx-auto p-6")},m(t,e){y(t,n,e),h(n,o),h(n,r),h(n,s),h(s,i),h(s,c),h(s,l);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(l,null)},p(t,[e]){if(1&e){let n;for(a=t[0],n=0;n<a.length;n+=1){const o=qt(t,a,n);u[n]?u[n].p(o,e):(u[n]=Tt(o),u[n].c(),u[n].m(l,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=a.length}},i:t,o:t,d(t){t&&b(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(u,t)}}}function Xt(t,e,n){let o=[];return T((()=>{!async function(){const t=await fetch("/api/leaderboard");t.ok?n(0,o=await t.json()):alert("Failed to get leaderboard.")}()})),[o]}class Yt extends ht{constructor(t){super(),pt(this,t,Xt,Ft,c,{})}}function zt(e){let n,o,r,i,c,l,a,u,f,d,p,m;return{c(){n=$("div"),o=$("h1"),o.textContent="Welcome to DNS Roleplay Game",r=_(),i=$("form"),c=$("div"),l=$("label"),l.textContent="Enter your nickname:",a=_(),u=$("input"),f=_(),d=$("button"),d.textContent="Start Playing",k(o,"class","text-3xl font-bold mb-6 text-center"),k(l,"for","nickname"),k(l,"class","block text-gray-700 mb-2"),k(u,"id","nickname"),k(u,"type","text"),k(u,"class","w-full px-3 py-2 border rounded"),u.required=!0,k(c,"class","mb-4"),k(d,"type","submit"),k(d,"class","bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 w-full"),k(n,"class","max-w-md mx-auto p-6")},m(t,s){y(t,n,s),h(n,o),h(n,r),h(n,i),h(i,c),h(c,l),h(c,a),h(c,u),S(u,e[0]),h(i,f),h(i,d),p||(m=[v(u,"input",e[2]),v(i,"submit",E(e[1]))],p=!0)},p(t,[e]){1&e&&u.value!==t[0]&&S(u,t[0])},i:t,o:t,d(t){t&&b(n),p=!1,s(m)}}}function It(t,e,n){let o="";return[o,async function(){(await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nickname:o})})).ok?kt("/play"):alert("Failed to register.")},function(){o=this.value,n(0,o)}]}class Mt extends ht{constructor(t){super(),pt(this,t,It,zt,c,{})}}function Gt(e){let n,o,r,i,c,a,u,f,d,p,m,g,x,w,v,E,C;return w=new Nt({props:{routes:e[0]}}),{c(){n=$("nav"),o=$("div"),r=$("div"),i=$("div"),c=$("a"),c.textContent="DNS Roleplay Game",a=_(),u=$("div"),f=$("div"),d=$("a"),d.textContent="Play",p=_(),m=$("a"),m.textContent="Leaderboard",g=_(),x=$("main"),ut(w.$$.fragment),k(c,"href","/play"),k(c,"class","text-white text-xl font-bold"),k(i,"class","flex items-center"),k(d,"href","/play"),k(d,"class","text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium"),k(m,"href","/leaderboard"),k(m,"class","text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium"),k(f,"class","ml-4 flex items-center"),k(u,"class","block"),k(r,"class","flex items-center justify-between h-16"),k(o,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"),k(n,"class","bg-gray-800"),k(x,"class","py-6")},m(t,e){y(t,n,e),h(n,o),h(o,r),h(r,i),h(i,c),h(r,a),h(r,u),h(u,f),h(f,d),h(f,p),h(f,m),y(t,g,e),y(t,x,e),ft(w,x,null),v=!0,E||(C=[l(Ct.call(null,c)),l(Ct.call(null,d)),l(Ct.call(null,m))],E=!0)},p:t,i(t){v||(rt(w.$$.fragment,t),v=!0)},o(t){st(w.$$.fragment,t),v=!1},d(t){t&&b(n),t&&b(g),t&&b(x),dt(w),E=!1,s(C)}}}function Ht(t){return[{"/":Rt,"/play":Rt,"/leaderboard":Yt,"/register":Mt}]}return new class extends ht{constructor(t){super(),pt(this,t,Ht,Gt,c,{})}}({target:document.body})}();
